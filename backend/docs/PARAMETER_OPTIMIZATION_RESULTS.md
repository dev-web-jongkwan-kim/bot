# SimpleTrueOB 전략 파라미터 최적화 결과

**최적화 일시**: 2026-01-12
**테스트 기간**: 2025년 1월 ~ 11월 (11개월)
**테스트 종목**: 36개 심볼
**시작 자본**: $500
**동시 포지션**: 최대 3개
**포지션당 마진**: $15 ~ $50 (자본의 3%)

---

## 1. Baseline vs 최적화 결과 비교

| 지표 | Baseline | 최적화 | 변화 |
|------|----------|--------|------|
| **최종 자본** | $15,345 | $40,538 | **+164%** |
| **ROI** | 2,969% | 8,008% | **+170%** |
| **거래 건수** | 5,262건 | 20,496건 | +290% |
| **승률** | 60.2% | 74.8% | +14.6%p |
| **MDD** | 9.9% | TBD | - |

---

## 2. 최적 파라미터 (7개)

### 2.1 개별 파라미터 최적값 (개선 순)

| 순위 | 파라미터 | 기존값 | 최적값 | 개별 개선 | 설명 |
|------|----------|--------|--------|-----------|------|
| 1 | `leverage` | 15 | **20** | +34.1% | 레버리지 |
| 2 | `slBuffer` | 0.01 | **0.005** | +18.3% | SL 버퍼 (1% → 0.5%) |
| 3 | `atrFilterMin` | 0.5 | **0.4** | +16.6% | ATR 필터 최소값 |
| 4 | `tp1Ratio` | 1.2 | **0.8** | +15.3% | TP 비율 (1.2R → 0.8R) |
| 5 | `retryCooldown` | 12 | **6** | +6.7% | 재진입 쿨다운 (캔들 수) |
| 6 | `orbVol` | 2.0 | **1.5** | +5.1% | OB 볼륨 배수 |
| 7 | `orbAtr` | 1.5 | **1.0** | +5.0% | OB ATR 배수 |

### 2.2 효과 없는 파라미터

| 파라미터 | 기존값 | 테스트 범위 | 결과 |
|----------|--------|-------------|------|
| `cvdLookback` | 20 | 10-25 | 변화 없음 |
| `atrFilterMax` | 3.0 | 2.5-4.0 | 거의 변화 없음 |
| `maxHoldingBars` | 48 | 36-60 | 미미한 변화 |

---

## 3. 누적 조합 테스트 결과

| 조합 | 최종 자본 | ROI | 거래 건수 | 승률 | 개선 |
|------|-----------|-----|-----------|------|------|
| Baseline | $15,345 | 2,969% | 5,262 | 60.2% | - |
| +leverage=20 | $20,577 | 4,015% | 5,262 | 60.2% | +34% |
| +slBuffer=0.005 | $24,318 | 4,764% | 6,467 | 66.5% | +58% |
| +atrFilterMin=0.4 | $29,299 | 5,760% | 9,802 | 64.4% | +91% |
| +tp1Ratio=0.8 | $30,376 | 5,975% | 11,053 | 77.5% | +98% |
| +retryCooldown=6 | $32,529 | 6,406% | 11,777 | 77.6% | +112% |
| +orbVol=1.5 | $36,164 | 7,133% | 14,106 | 76.8% | +136% |
| **+orbAtr=1** | **$40,538** | **8,008%** | **20,496** | **74.8%** | **+164%** |

---

## 4. 위험 요소 및 주의사항

### 4.1 거래 빈도 증가
- **일 평균 거래**: ~62건 (Baseline: ~16건)
- **바이낸스 API 레이트 리밋** 주의 필요
- **수수료 누적** 증가

### 4.2 리스크 증가
- **레버리지 20x**: 변동성 노출 증가
- **SL 버퍼 0.5%**: 조기 청산 가능성 증가
- **TP 0.8R**: 수익 제한 (but 승률 향상)

### 4.3 권장 적용 방식
1. **단계적 적용**: 한 번에 모든 파라미터 변경 X
2. **모니터링**: 1-2주 실시간 테스트 후 평가
3. **롤백 준비**: 성과 악화 시 즉시 복구 가능하게

---

## 5. 설정 코드

### 5.1 현재 Baseline 설정

```typescript
const BASELINE_CONFIG = {
  // OB 감지
  orbAtr: 1.5,
  orbVol: 2.0,
  minBodyRatio: 0.5,

  // 진입 설정
  orderValidityBars: 3,
  retryCooldown: 12,

  // 리스크/리워드
  slBuffer: 0.01,      // 1.0%
  tp1Ratio: 1.2,       // 1.2R
  leverage: 15,

  // ATR 필터
  atrFilterMin: 0.5,
  atrFilterMax: 3.0,
};
```

### 5.2 최적화된 설정

```typescript
const OPTIMIZED_CONFIG = {
  // OB 감지 (완화)
  orbAtr: 1.0,         // 1.5 → 1.0
  orbVol: 1.5,         // 2.0 → 1.5
  minBodyRatio: 0.5,   // 유지

  // 진입 설정 (공격적)
  orderValidityBars: 3, // 유지
  retryCooldown: 6,     // 12 → 6

  // 리스크/리워드 (타이트)
  slBuffer: 0.005,     // 1.0% → 0.5%
  tp1Ratio: 0.8,       // 1.2R → 0.8R
  leverage: 20,        // 15 → 20

  // ATR 필터 (완화)
  atrFilterMin: 0.4,   // 0.5 → 0.4
  atrFilterMax: 3.0,   // 유지
};
```

---

## 6. 적용 전 체크리스트

- [ ] 백테스트 결과 재검증
- [ ] 실시간 테스트 (1-2주)
- [ ] MDD 모니터링
- [ ] API 레이트 리밋 확인
- [ ] 롤백 계획 수립

---

## 7. 파일 위치

- 최적화 스크립트: `scripts/parameter-optimization-v2.ts`
- 결과 JSON: `backtest-results/optimization/param-optimization-v2-*.json`
- 라이브 전략: `src/strategies/simple-true-ob.strategy.ts`
- 백테스트: `src/backtest/simple-true-ob-backtest.ts`

---

**작성자**: Claude Code
**버전**: v10 (ATR+CVD 필터 포함)
